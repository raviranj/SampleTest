<app-navbar></app-navbar>

<div class="container passenger-details">
  <table class="table marginRow">
    <thead class="thead-light">
      <tr>
        <th scope="col">Passenger Name</th>
        <th scope="col">Flight Name</th>
        <th scope="col">Status</th>
        <th scope="col">Service</th>
      </tr>
    </thead>
    <ng-template ngFor let-passengerInfo [ngForOf]="passengers">
      <tr *ngIf="passengerInfo.checkIn===false">
        <td scope="row">{{passengerInfo.name}}</td>
        <td scope="row">{{selectedFlightId}} <span [ngStyle]="{ 'color': 'red' }">
            <mat-icon> flight</mat-icon>
          </span></td>
        <td scope="row" [ngStyle]="{ 'color': 'red' }">Pending</td>
        <td scope="row"><button type="button" class="btn btn-primary btn-sm" (click)="showSeatMap(passengerInfo)">check
            In</button>
      </tr>
    </ng-template>
  </table>
</div>
<div class="container success-checkedin" tabindex="-1" role="dialog">
  <table class="table marginRow">
    <thead class="thead-light">
      <tr>
        <th scope="col">Passenger Name</th>
        <th scope="col">Status</th>
        <th scope="col">Service</th>
      </tr>
    </thead>
    <ng-template ngFor let-passengerInfo [ngForOf]="passengers">
      <tr *ngIf="passengerInfo.checkIn===true">
        <td scope="row">{{passengerInfo.name}}</td>
        <th scope="col" [ngStyle]="{ 'color': 'green' }">
          <mat-icon> flight</mat-icon>
        </th>
        <td scope="row"><button type="button" class="btn btn-primary btn-sm"
            (click)="openForm(passengerInfo,passengerInfo.seatNumber)" data-toggle="modal" data-target="#myModal">Edit
          </button>
      </tr>
    </ng-template>
  </table>
</div>

<div class="container seatmap-details-map">
  <ng-template [ngIf]="visibleSeatMap">


    <span *ngFor="let seats of seatMap" class="wrapper"> <button (click)="openForm(passengerData,$event.target.value)"
        value="{{seats}}" [ngClass]="colorCoading(seats)" data-toggle="modal" data-target="#myModal"
        [disabled]="isDisableSeat">{{seats}}</button>
    </span>

    <br><br>
    <div class="row">
      <div class="col">
        <span class="seat-color-reserved"></span>&nbsp;Reserved
      </div>
      <div class="col">
        <span class="seat-color-available"></span>&nbsp;Available
      </div>
    </div>
    <div class="row">
      <div class="col">
        <span class="seat-color-withInfants"></span>&nbsp;Infants
      </div>
      <div class="col">
        <span class="seat-color-wheelchair"></span>&nbsp;Wheel Chair
      </div>
    </div>
  </ng-template>

</div>
<ng-template #content let-modal [ngIf]="showForm">
  <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">

          <form class="passenger-ancillary" #passengerForm="ngForm">
            <div class="panel panel-primary">
              <div class="panel-body">
                <div class="form-group">
                  <label for="name">Full Name</label>
                  <div class="com-sm-8">
                    <input id="name" [(ngModel)]="tempPassenger.name" name="name" type="text" class="form-control"
                      readonly>
                  </div>
                </div>

                <div class="form-group">
                  <label for="seatNumber">Seat Numer</label>
                  <div class="com-sm-8">
                    <input id="seatNumber" [(ngModel)]="tempPassenger.seatNumber" name="seatNumber" type="text"
                      class="form-control" readonly> </div>
                </div>
                <div class="form-group">
                  <label for="wheelchair">Wheel Chair</label>
                  <div class="form-control">
                    <label class="radio-inline">
                      <input type="radio" [value]="true" name="wheelchair" [(ngModel)]="tempPassenger.wheelchair"> Yes
                    </label>
                    <label class="radio-inline">
                      <input type="radio" [value]="false" name="wheelchair" [(ngModel)]="tempPassenger.wheelchair"> No
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <label for="withInfants">With Infants</label>
                  <div class="form-control">
                    <label class="radio-inline">
                      <input type="radio" [value]="true" name="withInfants" [(ngModel)]="tempPassenger.withInfants"> Yes
                    </label>
                    <label class="radio-inline">
                      <input type="radio" [value]="false" name="withInfants" [(ngModel)]="tempPassenger.withInfants"> No
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <label for="inFlightShop">Flight Shop</label>
                  <div class="form-control">
                    <label class="radio-inline">
                      <input type="radio" [value]="true" name="inFlightShop" [(ngModel)]="tempPassenger.inFlightShop">
                      Yes
                    </label>
                    <label class="radio-inline">
                      <input type="radio" [value]="false" name="inFlightShop" [(ngModel)]="tempPassenger.inFlightShop">
                      No
                    </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-footer">
              <span style="display:inline">
                <button class="btn btn-danger" data-dismiss="modal" type="submit">Exit</button>
              </span>&nbsp;&nbsp;
              <span style="display:inline">
                <button class="btn btn-primary" type="submit" (click)="onSubmit(passengerForm)"
                  data-dismiss="modal">Update</button>
              </span>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</ng-template>